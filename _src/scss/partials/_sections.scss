.collage-section {
    display: none;
    width: 100%;
    height: 50px;
}

.section {
    @include borderbox();
    position: absolute;
    top: 0;
    left: 0;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: bottom right;
    background-attachment: fixed;
    min-height: 100%;
    width: 100%;
    padding: $base-padding $base-padding $base-padding $heading-icon-size + $small-padding + $base-padding;


    &.intro {
        background-color: $intro-primary;
        color: $intro-text;
        text-transform: uppercase;
        background-image: $intro-background;
        padding: $base-padding $base-padding $base-padding $base-padding;


        h1, h2, h3, h4, h5, h6 {
            color: $intro-heading;

            &:before {
                color: $intro-heading-icon;
                border-color: $intro-heading-ring;
            }
        }
    }

    &.about {
        background-color: $about-primary;
        color: $about-text;
        background-image: $about-background;

        h1, h2, h3, h4, h5, h6 {
            color: $about-heading;

            &:before {
                color: $about-heading-icon;
                border-color: $about-heading-ring;
            }
        }
    }

    &.services {
        background-color: $services-primary;
        color: $services-text;
        background-image: $services-background;

        h1, h2, h3, h4, h5, h6 {
            color: $services-heading;

            &:before {
                color: $services-heading-icon;
                border-color: $services-heading-ring;
            }
        }
    }

    &.livestream {
        background-color: $livestream-primary;
        color: $livestream-text;
        background-image: $livestream-background;
        background-position: center center;
        background-size: cover;
        background-attachment: fixed;

        h1, h2, h3, h4, h5, h6 {
            color: $livestream-heading;

            &:before {
                color: $livestream-heading-icon;
                border-color: $livestream-heading-ring;
            }
        }
    }

    &.enroll {
        background-color: $enroll-primary;
        color: $enroll-text;
        background-image: $enroll-background;

        h1, h2, h3, h4, h5, h6 {
            color: $enroll-heading;

            &:before {
                color: $enroll-heading-icon;
                border-color: $enroll-heading-ring;
            }
        }
    }

    &.account {
        background-color: $account-primary;
        color: $account-text;
        background-image: $account-background;

        h1, h2, h3, h4, h5, h6 {
            color: $account-heading;

            &:before {
                color: $account-heading-icon;
                border-color: $account-heading-ring;
            }
        }
    }

    &.contact {
        background-color: $contact-primary;
        color: $contact-text;
        background-image: $contact-background;

        h1, h2, h3, h4, h5, h6 {
            color: $contact-heading;

            &:before {
                color: $contact-heading-icon;
                border-color: $contact-heading-ring;
            }
        }
    }
}

.collage-section {
    &.intro {
        background-color: $intro-primary;
    }

    &.about {
        background-color: $about-primary;
    }

    &.services {
        background-color: $services-primary;
    }

    &.livestream {
        background-color: $livestream-primary;
    }

    &.enroll {
        background-color: $enroll-primary;
    }

    &.account {
        background-color: $account-primary;
    }

    &.contact {
        background-color: $contact-primary;
    }
}

.map {
    width: 100%;
    height: 80%;
    position: relative;
    z-index: 2;
    @include glow($glow-large, $contact-contrast);
}

.collage {
    z-index: 1;
    height: 50px;
    width: 100%;

    .collage-row {
        width: 9000px;
        font-size: 0;
        white-space: nowrap;
    }

    img {
        @include transition($duration-short, 0);
        @include desaturate(100%);
        width: auto;
        height: 50px;
        opacity: .2;
        position: relative;
        //mix-blend-mode: multiply;

        &:hover {
            @include grow(2);
            @include glow($glow-small, #000);
            z-index: 2;
            opacity: 1;
            @include desaturate(0);
            //mix-blend-mode: normal;
        }
    }
}

.alert {
    @include transition($duration-short, 0);
    @include glow($glow-small, #000);
    position: fixed;
    bottom: -100%;
    left: 0;
    z-index: 99;
    text-align: center;
    width: 100%;
    text-transform: uppercase;

    ul {
        margin: 0;
    }

    li {
        border-top: 1px solid transparent;
        margin: 0;
        font-family: $accent-font-family;
        font-weight: bold;
        font-size: .7em;
        padding: 6px;
    }

    &.is-visible {
        bottom: 0;
    }

    .alert-error {
        background: $alert-error-color;
        color: darken($alert-error-color, 50%);
        border-color: darken($alert-error-color, 20%);
    }

    .alert-success {
        background: $alert-success-color;
        color: darken($alert-success-color, 50%);
        border-color: darken($alert-success-color, 20%);
    }

    .alert-warning {
        background: $alert-warning-color;
        color: darken($alert-warning-color, 50%);
        border-color: darken($alert-warning-color, 40%);
    }

    .alert-info {
        background: $alert-info-color;
        color: darken($alert-info-color, 50%);
        border-color: darken($alert-info-color, 20%);
    }
}


@media (min-width: 550px) {
    .section {
        padding: $base-padding $base-padding $base-padding $nav-width + $base-padding;
    }
}
@media (max-width: 649px) {
    .section:not(.livestream) {
        background-image: none;

        &:before {
            content: "";
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: block;
            position: absolute;
            background-repeat: no-repeat;
            background-size: contain;
            background-position: bottom right;
            opacity: .25;
            z-index: 0;
        }
    }

    .section {

        // force things above the background image.
        & > * {
            position: relative;
        }

        &.intro:before {
            background-image: $intro-background;
        }

        &.about:before {
            background-image: $about-background;
        }

        &.services:before {
            background-image: $services-background;
        }

        &.enroll:before {
            background-image: $enroll-background;
        }

        &.account:before {
            background-image: $account-background;
        }

        &.contact:before {
            background-image: $contact-background;
        }
    }
}
@media (min-width: 650px) {
    .section {
        padding: $base-padding 25% $base-padding $nav-width + $base-padding + $small-padding + $heading-icon-size;

        &.intro {
            padding: $base-padding 25% $base-padding $nav-width + $base-padding;
        }
    }
}
@media (min-width: 768px) {
    .collage-section {
        display: block;
    }
}